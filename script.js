const questions = [
  {
    question: "à¹€à¸¡à¸·à¹ˆà¸­à¸•à¸·à¹ˆà¸™à¸‚à¸¶à¹‰à¸™à¸¡à¸²à¹ƒà¸™à¸•à¸­à¸™à¹€à¸Šà¹‰à¸² à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¸ªà¸¶à¸à¹à¸£à¸à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸„à¸·à¸­...?",
    choices: [
      { text: "à¸„à¸´à¸”à¸–à¸¶à¸‡à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸—à¸³à¹ƒà¸«à¹‰à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸§à¸±à¸™à¸™à¸µà¹‰", type: "à¸‡à¸²à¸™_à¹€à¸¨à¸£à¸©à¸à¸à¸´à¸ˆ" },
      { text: "à¸­à¸¢à¸²à¸à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸§à¸±à¸™à¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¸”à¸¹à¹à¸¥à¸•à¸±à¸§à¹€à¸­à¸‡à¹ƒà¸«à¹‰à¸”à¸µ", type: "à¸ªà¸¸à¸‚à¸ à¸²à¸ž" },
      { text: "à¸™à¸¶à¸à¸–à¸¶à¸‡à¸„à¸™à¹ƒà¸™à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§à¸«à¸£à¸·à¸­à¸„à¸™à¸—à¸µà¹ˆà¹€à¸£à¸²à¸£à¸±à¸", type: "à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§" },
      { text: "à¹€à¸Šà¸·à¹ˆà¸­à¸§à¹ˆà¸²à¸§à¸±à¸™à¸™à¸µà¹‰à¸­à¸²à¸ˆà¸¡à¸µà¹€à¸£à¸·à¹ˆà¸­à¸‡à¸”à¸µà¹† à¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™", type: "à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡" },
    ],
  },
  {
    question: "à¹€à¸¡à¸·à¹ˆà¸­à¸£à¸¹à¹‰à¸ªà¸¶à¸à¹€à¸«à¸™à¸·à¹ˆà¸­à¸¢à¸¥à¹‰à¸² à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸„à¸¸à¸“à¸¡à¸±à¸à¸—à¸³à¸„à¸·à¸­...?",
    choices: [
      { text: "à¸à¸¥à¸±à¸šà¹„à¸›à¹‚à¸Ÿà¸à¸±à¸ªà¸—à¸µà¹ˆà¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸«à¸£à¸·à¸­à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸‚à¸­à¸‡à¸•à¸±à¸§à¹€à¸­à¸‡", type: "à¸‡à¸²à¸™_à¹€à¸¨à¸£à¸©à¸à¸à¸´à¸ˆ" },
      { text: "à¸žà¸±à¸à¸œà¹ˆà¸­à¸™ à¹€à¸”à¸´à¸™à¹€à¸¥à¹ˆà¸™ à¸«à¸£à¸·à¸­à¸”à¸¹à¹à¸¥à¸£à¹ˆà¸²à¸‡à¸à¸²à¸¢", type: "à¸ªà¸¸à¸‚à¸ à¸²à¸ž" },
      { text: "à¸žà¸¹à¸”à¸„à¸¸à¸¢à¸«à¸£à¸·à¸­à¸­à¸¢à¸¹à¹ˆà¹ƒà¸à¸¥à¹‰à¹† à¸„à¸™à¹ƒà¸™à¸šà¹‰à¸²à¸™", type: "à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§" },
      { text: "à¸­à¹ˆà¸²à¸™à¸«à¸£à¸·à¸­à¸Ÿà¸±à¸‡à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¹à¸£à¸‡à¸šà¸±à¸™à¸”à¸²à¸¥à¹ƒà¸ˆ", type: "à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡" },
    ],
  },
  {
    question: "à¸«à¸²à¸à¸¡à¸µà¹€à¸§à¸¥à¸² 1 à¸§à¸±à¸™à¹€à¸•à¹‡à¸¡à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸¡à¸µà¸ à¸²à¸£à¸° à¸„à¸¸à¸“à¸­à¸¢à¸²à¸à¹ƒà¸Šà¹‰à¸¡à¸±à¸™à¸—à¸³à¸­à¸°à¹„à¸£?",
    choices: [
      { text: "à¸§à¸²à¸‡à¹à¸œà¸™à¸«à¸£à¸·à¸­à¸¥à¸‡à¸¡à¸·à¸­à¸—à¸³à¸ªà¸´à¹ˆà¸‡à¹ƒà¸«à¸¡à¹ˆ à¹† à¸—à¸µà¹ˆà¸­à¸²à¸ˆà¸—à¸³à¸£à¸²à¸¢à¹„à¸”à¹‰", type: "à¸‡à¸²à¸™_à¹€à¸¨à¸£à¸©à¸à¸à¸´à¸ˆ" },
      { text: "à¹„à¸›à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢ à¸™à¸§à¸” à¸«à¸£à¸·à¸­à¸”à¸¹à¹à¸¥à¸ªà¸¸à¸‚à¸ à¸²à¸ž", type: "à¸ªà¸¸à¸‚à¸ à¸²à¸ž" },
      { text: "à¸—à¸³à¸­à¸²à¸«à¸²à¸£à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¹€à¸§à¸¥à¸²à¸£à¹ˆà¸§à¸¡à¸à¸±à¸šà¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§", type: "à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§" },
      { text: "à¸­à¸­à¸à¹„à¸›à¹€à¸—à¸µà¹ˆà¸¢à¸§à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹€à¸„à¸¢à¹„à¸› à¹€à¸›à¸´à¸”à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ", type: "à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡" },
    ],
  },
  {
    question: "à¸„à¸³à¸žà¸¹à¸”à¸—à¸µà¹ˆà¸„à¸¸à¸“à¸­à¸¢à¸²à¸à¹„à¸”à¹‰à¸¢à¸´à¸™à¹ƒà¸™à¸•à¸­à¸™à¸™à¸µà¹‰à¸¡à¸²à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”à¸„à¸·à¸­...?",
    choices: [
      { text: "\"à¸„à¸¸à¸“à¹€à¸à¹ˆà¸‡à¸¡à¸²à¸ à¹à¸¥à¸°à¸­à¸™à¸²à¸„à¸•à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸ˆà¸°à¸¡à¸±à¹ˆà¸™à¸„à¸‡à¹à¸™à¹ˆà¸™à¸­à¸™\"", type: "à¸‡à¸²à¸™_à¹€à¸¨à¸£à¸©à¸à¸à¸´à¸ˆ" },
      { text: "\"à¸„à¸¸à¸“à¸”à¸¹à¹à¸¥à¸•à¸±à¸§à¹€à¸­à¸‡à¹„à¸”à¹‰à¸”à¸µà¸‚à¸¶à¹‰à¸™à¸—à¸¸à¸à¸§à¸±à¸™à¸™à¸°\"", type: "à¸ªà¸¸à¸‚à¸ à¸²à¸ž" },
      { text: "\"à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸­à¸°à¹„à¸£à¸ˆà¸°à¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™ à¸‰à¸±à¸™à¸ˆà¸°à¸­à¸¢à¸¹à¹ˆà¸‚à¹‰à¸²à¸‡à¸„à¸¸à¸“à¹€à¸ªà¸¡à¸­\"", type: "à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§" },
      { text: "\"à¸—à¸¸à¸à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸³à¸¥à¸±à¸‡à¸ˆà¸°à¸”à¸µà¸‚à¸¶à¹‰à¸™à¸à¸§à¹ˆà¸²à¸—à¸µà¹ˆà¹€à¸„à¸¢à¹€à¸›à¹‡à¸™\"", type: "à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡" },
    ],
  },
  {
    question: "à¸–à¹‰à¸²à¸ˆà¸°à¸¡à¸µà¸‚à¸­à¸‡à¸‚à¸§à¸±à¸à¸§à¸´à¹€à¸¨à¸©à¸Šà¸´à¹‰à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸«à¸¥à¹ˆà¸™à¸¥à¸‡à¸¡à¸²à¸•à¸£à¸‡à¸«à¸™à¹‰à¸²...à¸„à¸¸à¸“à¸­à¸¢à¸²à¸à¹ƒà¸«à¹‰à¸¡à¸±à¸™à¹€à¸›à¹‡à¸™à¸­à¸°à¹„à¸£?",
    choices: [
      { text: "à¹‚à¸­à¸à¸²à¸ªà¸”à¸µ à¹† à¸—à¸µà¹ˆà¸žà¸²à¸Šà¸µà¸§à¸´à¸•à¸¡à¸±à¹ˆà¸™à¸„à¸‡à¸‚à¸¶à¹‰à¸™", type: "à¸‡à¸²à¸™_à¹€à¸¨à¸£à¸©à¸à¸à¸´à¸ˆ" },
      { text: "à¸ªà¸¸à¸‚à¸ à¸²à¸žà¹à¸‚à¹‡à¸‡à¹à¸£à¸‡à¸—à¸±à¹‰à¸‡à¸à¸²à¸¢à¹à¸¥à¸°à¹ƒà¸ˆ à¹ƒà¸«à¹‰à¸•à¸±à¸§à¹€à¸­à¸‡à¹à¸¥à¸°à¸„à¸™à¸—à¸µà¹ˆà¸£à¸±à¸", type: "à¸ªà¸¸à¸‚à¸ à¸²à¸ž" },
      { text: "à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸—à¸µà¹ˆà¸­à¸šà¸­à¸¸à¹ˆà¸™ à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸à¸±à¸™à¸¡à¸²à¸à¸‚à¸¶à¹‰à¸™", type: "à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§" },
      { text: "à¸žà¸¥à¸±à¸‡à¹ƒà¸ˆà¹€à¸¥à¹‡à¸ à¹† à¸—à¸µà¹ˆà¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¸¢à¸·à¸™à¸«à¸¢à¸±à¸”à¹„à¸”à¹‰ à¹à¸¡à¹‰à¸ˆà¸°à¹€à¸ˆà¸­à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸¢à¸²à¸à¸­à¸µà¸à¸ªà¸±à¸à¸„à¸£à¸±à¹‰à¸‡", type: "à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡" },
    ],
  },
];

const results = {
  à¸‡à¸²à¸™_à¹€à¸¨à¸£à¸©à¸à¸à¸´à¸ˆ: {
    title: "ðŸ¢ðŸª™ à¸‡à¸²à¸™à¹à¸¥à¸°à¹€à¸¨à¸£à¸©à¸à¸à¸´à¸ˆ",
    // description: "à¸„à¸¸à¸“à¹€à¸›à¹‡à¸™à¸¡à¸´à¸•à¸£ à¸£à¹ˆà¸²à¹€à¸£à¸´à¸‡ à¸Šà¸­à¸šà¹€à¸‚à¹‰à¸²à¸ªà¸±à¸‡à¸„à¸¡ à¹à¸¥à¸°à¸ à¸±à¸à¸”à¸µà¸•à¹ˆà¸­à¹€à¸žà¸·à¹ˆà¸­à¸™!",
    image:
      "./assets/work.svg",
  },
  à¸ªà¸¸à¸‚à¸ à¸²à¸ž: {
    title: "ðŸ’ªðŸƒ à¸ªà¸¸à¸‚à¸ à¸²à¸ž",
    // description: "à¸„à¸¸à¸“à¸£à¸±à¸à¸­à¸´à¸ªà¸£à¸° à¸ªà¸¸à¸‚à¸¸à¸¡ à¹à¸¥à¸°à¸¡à¸µà¹€à¸ªà¸™à¹ˆà¸«à¹Œà¸¥à¸¶à¸à¸¥à¸±à¸šà¹ƒà¸™à¸•à¸±à¸§à¹€à¸­à¸‡",
    image:
      "./assets/health.svg",
  },
  à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§: {
    title: "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ðŸ’– à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§",
    // description: "à¸„à¸¸à¸“à¸à¸¥à¹‰à¸²à¸«à¸²à¸ à¹€à¸›à¹‡à¸™à¸œà¸¹à¹‰à¸™à¸³ à¹à¸¥à¸°à¸¡à¸µà¸žà¸¥à¸±à¸‡à¹à¸à¸‡à¹ƒà¸™à¸•à¸±à¸§à¹€à¸­à¸‡",
    image:
      "./assets/family.svg",
  },
  à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡: {
    title: "ðŸ•Šï¸ðŸŒ  à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡",
    // description: "à¸„à¸¸à¸“à¸à¸¥à¹‰à¸²à¸«à¸²à¸ à¹€à¸›à¹‡à¸™à¸œà¸¹à¹‰à¸™à¸³ à¹à¸¥à¸°à¸¡à¸µà¸žà¸¥à¸±à¸‡à¹à¸à¸‡à¹ƒà¸™à¸•à¸±à¸§à¹€à¸­à¸‡",
    image:
      "./assets/hope.svg",
  },
};

let currentQuestion = 0;
let scores = { à¸‡à¸²à¸™_à¹€à¸¨à¸£à¸©à¸à¸à¸´à¸ˆ: 0, à¸ªà¸¸à¸‚à¸ à¸²à¸ž: 0, à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§: 0, à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡: 0 };
let currentSelection = null;

const questionElement = document.getElementById("question");
const choicesElement = document.getElementById("choices");
const nextButton = document.getElementById("next-btn");
const resultSection = document.getElementById("result");

function shuffle(arr){
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

function showQuestion() {
  const q = questions[currentQuestion];
  questionElement.innerText = q.question;
  choicesElement.innerHTML = "";
  nextButton.classList.add("hidden");
  currentSelection = null;

  const shuffledChoices = [...q.choices];
  shuffle(shuffledChoices);

  shuffledChoices.forEach((choice) => {
    const btn = document.createElement("button");
    btn.innerText = choice.text;
    btn.style.fontFamily = "Mali";
    btn.classList.add("choice-btn");
    btn.dataset.type = choice.type;

    btn.addEventListener("click", () => {
      if (currentSelection === btn) {
        // à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¹€à¸¥à¸·à¸­à¸
        btn.classList.remove("selected");
        currentSelection = null;
        nextButton.classList.add("hidden");
      } else {
        // à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸à¹ƒà¸«à¸¡à¹ˆ
        Array.from(choicesElement.children).forEach((b) =>
          b.classList.remove("selected")
        );
        btn.classList.add("selected");
        currentSelection = btn;
        nextButton.classList.remove("hidden");
        nextButton.style.fontFamily = "Mali";
      }
    });

    choicesElement.appendChild(btn);
  });
}

nextButton.addEventListener("click", () => {
  if (currentSelection) {
    const selectedType = currentSelection.dataset.type;
    scores[selectedType]++;
  }
  currentQuestion++;
  if (currentQuestion < questions.length) {
    showQuestion();
  } else {
    showResult();
  }
});

function showResult() {
  document.getElementById("quiz").classList.add("hidden");
  const topType = Object.keys(scores).reduce((a, b) =>
    scores[a] > scores[b] ? a : b
  );
  const result = results[topType];
  document.getElementById("result-title").innerText = result.title;
  document.getElementById("result-title").style.backgroundColor = "#c4acd67d";
  document.getElementById("result-title").style.padding = "10px";
  document.getElementById("result-title").style.borderRadius = "10px";
  document.getElementById("result-title").classList.add("shimmer-text");
  // document.getElementById("result-description").innerText = result.description;
  document.getElementById("result-image").src = result.image;
  resultSection.classList.remove("hidden");
}

showQuestion();
